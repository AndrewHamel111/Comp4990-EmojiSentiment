<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>tweets
    </title>
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <meta http-equiv="X-UA-Compatible" content="ie=edge"/>
    <link rel="stylesheet" href ="styles.css">
</head>
<body>
    <div class ="container">
        <h1>Search for Tweets</h1>
        <p>This page pulls data from Twitter. </p>
        <form id="serch-form" onsubmit="return submitForm()">
            <input id="searchInput" type="text" placeholder="Enter Search"></input>
            <button class='button' type="submit" id= "searchButton">Search</button>
        </form>
        <div class='container2' id="AvgSentiment">
            Average Sentiment Twitter:
        </div>
        <div class='container2' id="AvgSentiment2">
            Average Sentiment Reddit: 
        </div>
        <div class='container2' id="AvgSentiment4">
            Average Sentiment Github(topics/repos/etc):
        </div>
        <div class='container2' id="AvgSentiment3">
            Average Sentiment Custom text:
        </div>
    
        <textarea id="custom-Sentiment">Enter sample Text To get its Sentiment. </textarea>
        <button class='button' type="submit" id= "custom-Sentiment-Button">Custom Sentiment</button>
    </div>
    <script src="https://code.jquery.com/jquery-3.3.1.min.js"></script>
    <script>
        function appendData(data){
            var searchInput = $('#searchInput').val();
            $('#AvgSentiment2').append(`<p>Sentiment: ${data.emojiReddit}, SearchTerm: ${searchInput} </p>`);
            $('#AvgSentiment').append(`<p>Sentiment: ${data.averageSentiemnentTwitter}, ${data.emojiTwitter}, SearchTerm: ${searchInput} </p>`);
            $('#AvgSentiment4').append(`<p>Sentiment: ${data.averageSentiemnentGithub}, ${data.emojiGithub}, SearchTerm: ${searchInput} </p>`);
        }
        function submitForm(){
            var searchInput = $('#searchInput').val();
            $.get('/search', {term:searchInput}, appendData);
            return false;
        }
        $(function(){
            $('#searchButton').click(submitForm);
        });
        function appendCustomData(data){
            var customSentiment = $('#custom-Sentiment').val();
            $('#AvgSentiment3').append(`<p>Average Sentiment General Text: ${data.sentiment}, ${data.emoji}, SearchTerm: ${customSentiment} </p>`);
        }
        $('#custom-Sentiment-Button').click(function(){
            var customSentiment = $('#custom-Sentiment').val();
            $.get('/customSentiment',{term:customSentiment},appendCustomData);
        });
    </script>
</body>
</html>